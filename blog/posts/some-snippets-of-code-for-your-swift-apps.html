<!DOCTYPE html>
<html lang="en">
   <head>
       <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
<title>Some snippets of code for your Swift apps &#9642; Extiri Blog</title>
<!--
<meta name="description" content="Hi! While programming in Swift I have accumulated many code snippets. Some of them are mine and some of them come from the internet. Here I’m sharing 5 tiny quality-of-life snippets. Hopefully you will find them useful.
">
-->
<meta name="description" content="blog about Extiri, programming and cybersecurity
">
<meta name="keywords" content="snippets, programming">
<link rel="canonical" href="https://extiri.com/posts/some-snippets-of-code-for-your-swift-apps">
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Some snippets of code for your Swift apps" />
<meta name="twitter:description" content="blog about Extiri, programming and cybersecurity
" />
<meta name="twitter:image" content="https://extiri.com" />
<meta name="author" content="">
<link rel="author" href="">
<meta property="og:locale" content="">
<meta property="og:type" content="article">
<meta property="og:title" content="Some snippets of code for your Swift apps">
<meta property="og:description" content="blog about Extiri, programming and cybersecurity
">
<meta property="og:url" content="https://extiri.com/posts/some-snippets-of-code-for-your-swift-apps">
<meta property="og:site_name" content="Extiri Blog">
<link rel="stylesheet" href="/blog/assets/vendor/normalize-css/normalize.css">
<link rel="stylesheet" href="/blog/assets/css/main.css">
<link rel="stylesheet" href="/blog/assets/css/bf.css">
   <body>
       <div class="wrapper" id="blep">
          <header class="site-header">
 <div class="site-header__inner">
    <a class="site-header__brand" href="/blog/index.html">
      <span class="site-header__logo">
        <object type="image/svg+xml" data="/blog/assets/img/guy.svg" class="logosvg">Your browser does not support svg images</object>
      </span>
      <span class="site-header__title">Extiri Blog</span>
    </a>
    <button
      class="site-nav__toggle"
      type="button"
      aria-label="Toggle navigation"
      aria-expanded="false"
      aria-controls="site-nav"
      data-nav-toggle
    >
      <span></span>
      <span></span>
      <span></span>
    </button>
   <nav class="site-nav" id="site-nav" data-site-nav>
     <ul class="site-nav__list">
       <li><a href="/blog/about/index.html">About</a>
       <li><a href="/blog/archive/index.html">Archive</a>
       <li><a href="https://extiri.com">Apps</a>
     </ul>
     <div class="site-nav__secondary">
       <ul class="site-nav__social">
         <li>
            <a href="https://youtube.com/@wiktorwojcik3678" target="_blank" rel="noopener">
              <span class="icon-youtube"></span>
              <span class="sr-only">YouTube</span>
            </a>
         <li>
            <a href="https://twitter.com/WiktorW2" target="_blank" rel="noopener">
              <span class="icon-twitter"></span>
              <span class="sr-only">Twitter</span>
            </a>
         <li>
            <a href="https://github.com/Extiri" target="_blank" rel="noopener">
              <span class="icon-github"></span>
              <span class="sr-only">GitHub</span>
            </a>
         <li>
            <a href="mailto:wiktor.wojcik@extiri.com">
              <span class="icon-mail_outline"></span>
              <span class="sr-only">Email</span>
            </a>
         <li>
            <a href="/blog/feed.xml">
              <span class="icon-rss_feed"></span>
              <span class="sr-only">RSS feed</span>
            </a>
       </ul>
     </div>
   </nav>
 </div>
</header>
<div id="cookie-consent-banner" class="cookie-consent-banner" aria-live="polite" hidden>
 <div class="cookie-consent-content">
   <p>We use cookies and analytics to improve this site. You can accept or decline analytics tracking. Read our <a href="/blog/privacy_policy.html">Privacy Policy</a>.
   <div class="cookie-consent-buttons">
      <button id="consent-accept" class="button-primary">Accept</button>
      <button id="consent-decline" class="button-secondary">Decline</button>
   </div>
 </div>
</div>
<article class="post">
<header class="post-hero">
   <p class="post-hero__eyebrow">Extiri Blog
   <h1 class="post-hero__title">Some snippets of code for your Swift apps</h1>
   <div class="post-hero__meta">
      <span class="post-hero__date">
        October 3, 2024
      </span>
      <span class="post-hero__divider">•</span>
      <span class="post-hero__author">
        Wiktor Wójcik
      </span>
      <span class="post-hero__divider">•</span>
      <span class="post-hero__tags">
          <a href="/blog/tag/snippets/index.html">#snippets</a>
          <a href="/blog/tag/programming/index.html">#programming</a>
      </span>
   </div>
 </header>
 <div class="post-content">
   <p class="lead">Hi! While programming in Swift I have accumulated many code snippets. Some of them are mine and some of them come from the internet. Here I’m sharing 5 tiny quality-of-life snippets. Hopefully you will find them useful.
<h3 id="1-cocoa-accessing-nswindow-from-nsviewcontroller">1. (Cocoa) Accessing NSWindow from NSViewController</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10</pre><td class="code"><pre><span class="kd">extension</span> <span class="kt">NSViewController</span> <span class="p">{</span>
<span class="err"> </span> <span class="k">var</span> <span class="nv">window</span><span class="p">:</span> <span class="kt">NSWindow</span><span class="p">?</span> <span class="p">{</span>
<span class="err"> </span> <span class="err"> </span> <span class="k">for</span> <span class="n">window</span> <span class="k">in</span> <span class="kt">NSApp</span><span class="o">.</span><span class="n">windows</span> <span class="p">{</span>
<span class="err"> </span> <span class="err"> </span> <span class="err"> </span> <span class="k">if</span> <span class="n">window</span><span class="o">.</span><span class="n">contentViewController</span> <span class="o">==</span> <span class="k">self</span> <span class="p">{</span>
<span class="err"> </span> <span class="err"> </span> <span class="err"> </span> <span class="err"> </span> <span class="k">return</span> <span class="n">window</span>
<span class="err"> </span> <span class="err"> </span> <span class="err"> </span> <span class="p">}</span>
<span class="err"> </span> <span class="err"> </span> <span class="p">}</span>
<span class="err"> </span> <span class="err"> </span> <span class="k">return</span> <span class="kc">nil</span>
<span class="err"> </span> <span class="p">}</span>
<span class="p">}</span>
</pre></table>
</div>
</div>
<p>This snippet adds a window variable to NSViewController. It requires the window to exist (eg. be in NSApp.windows, in most cases that will be true) and that there is only one window with the specified view controller. It will return the window with the view controller on which it is called.
<h3 id="2-checking-if-path-leads-to-a-directory">2. Checking if path leads to a directory</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7</pre><td class="code"><pre><span class="kd">extension</span> <span class="kt">FileManager</span> <span class="p">{</span>
  <span class="kd">func</span> <span class="nf">isDirectory</span><span class="p">(</span><span class="nv">path</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">isDirectory</span><span class="p">:</span> <span class="kt">ObjCBool</span> <span class="o">=</span> <span class="kc">false</span>
    <span class="k">self</span><span class="o">.</span><span class="nf">fileExists</span><span class="p">(</span><span class="nv">atPath</span><span class="p">:</span> <span class="n">path</span><span class="p">,</span> <span class="nv">isDirectory</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">isDirectory</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">isDirectory</span><span class="o">.</span><span class="n">boolValue</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></table>
</div>
</div>
<p>This is a simple wrapper around <code class="language-plaintext highlighter-rouge">FileManager.fileExists()</code> as an extension to <code class="language-plaintext highlighter-rouge">FileManager</code> that checks whether a path provided as a string leads to a directory.
<h3 id="3-safely-accessing-an-array">3. Safely accessing an array</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9</pre><td class="code"><pre><span class="kd">extension</span> <span class="kt">Array</span> <span class="p">{</span>
	<span class="nf">subscript</span><span class="p">(</span><span class="n">safely</span> <span class="nv">index</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Element</span><span class="p">?</span> <span class="p">{</span>
		<span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="k">self</span><span class="o">.</span><span class="n">endIndex</span> <span class="o">&amp;&amp;</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="mi">0</span>  <span class="p">{</span>
			<span class="k">return</span> <span class="k">self</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="k">return</span> <span class="kc">nil</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></table>
</div>
</div>
<p>This snippet adds a subscript to arrays. It checks whether index is within the array’s range then returns an element or nil depending on the check. You can use it like this:
<div class="language-swift highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre><td class="code"><pre><span class="k">let</span> <span class="nv">array</span> <span class="o">=</span> <span class="p">[</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">,</span> <span class="s">"c"</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">value</span> <span class="o">=</span> <span class="n">array</span><span class="p">[</span><span class="nv">safely</span><span class="p">:</span> <span class="mi">2</span><span class="p">]</span> <span class="c1">// returns Optional("c")</span>
</pre></table>
</div>
</div>
<p>This might save you few lines of code for checking and force you to handle the edge case without crashing the app.
<h3 id="4-swiftui-web-view-wrapper">4. (SwiftUI) Web view wrapper</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63</pre><td class="code"><pre><span class="kd">struct</span> <span class="kt">WebView</span><span class="p">:</span> <span class="kt">NSViewRepresentable</span> <span class="p">{</span>
	<span class="c1">/// URL of current page. If changed, WebView will change it into the new URL.</span>
	<span class="kd">@Binding</span> <span class="k">var</span> <span class="nv">url</span><span class="p">:</span> <span class="kt">URL</span>
	
	<span class="kd">private</span> <span class="k">var</span> <span class="nv">onLoadStart</span><span class="p">:</span> <span class="p">(</span><span class="kt">WKWebView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">()</span>
	<span class="kd">private</span> <span class="k">var</span> <span class="nv">onLoadFinish</span><span class="p">:</span> <span class="p">(</span><span class="kt">WKWebView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">()</span>
	
  <span class="c1">/// A WKWebView instance, which is used to render WebView, and which can be used to control it thanks to classes being passed by reference.</span>
	<span class="kd">private</span> <span class="k">var</span> <span class="nv">wkWebView</span><span class="p">:</span> <span class="kt">WKWebView</span>
	
  <span class="c1">/// Accepts a binding to an URL, WKWebView instance, which can be used to control WebView and onLoadStart and onLoadFinish which will run when WebView starts or finishes loading a webpage.</span>
	<span class="nf">init</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="kt">Binding</span><span class="o">&lt;</span><span class="kt">URL</span><span class="o">&gt;</span><span class="p">,</span> <span class="nv">wkWebView</span><span class="p">:</span> <span class="kt">WKWebView</span> <span class="o">=</span> <span class="kt">WKWebView</span><span class="p">(),</span> <span class="nv">onLoadStart</span><span class="p">:</span> <span class="p">((</span><span class="kt">WKWebView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">())?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">onLoadFinish</span><span class="p">:</span> <span class="p">((</span><span class="kt">WKWebView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">())?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">self</span><span class="o">.</span><span class="n">wkWebView</span> <span class="o">=</span> <span class="n">wkWebView</span>
		
		<span class="k">self</span><span class="o">.</span><span class="n">_url</span> <span class="o">=</span> <span class="n">url</span>
		
		<span class="k">if</span> <span class="k">let</span> <span class="nv">onLoadStart</span> <span class="o">=</span> <span class="n">onLoadStart</span> <span class="p">{</span>
			<span class="k">self</span><span class="o">.</span><span class="n">onLoadStart</span> <span class="o">=</span> <span class="n">onLoadStart</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="k">self</span><span class="o">.</span><span class="n">onLoadStart</span> <span class="o">=</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="p">}</span>
		<span class="p">}</span>
		
		<span class="k">if</span> <span class="k">let</span> <span class="nv">onLoadFinish</span> <span class="o">=</span> <span class="n">onLoadFinish</span> <span class="p">{</span>
			<span class="k">self</span><span class="o">.</span><span class="n">onLoadFinish</span> <span class="o">=</span> <span class="n">onLoadFinish</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="k">self</span><span class="o">.</span><span class="n">onLoadFinish</span> <span class="o">=</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
	
	<span class="kd">func</span> <span class="nf">makeNSView</span><span class="p">(</span><span class="nv">context</span><span class="p">:</span> <span class="kt">Context</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">WKWebView</span> <span class="p">{</span>
		<span class="n">wkWebView</span><span class="o">.</span><span class="n">navigationDelegate</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">coordinator</span>
		<span class="n">wkWebView</span><span class="o">.</span><span class="nf">load</span><span class="p">(</span><span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">))</span>
		
		<span class="k">return</span> <span class="n">wkWebView</span>
	<span class="p">}</span>
	
	<span class="kd">func</span> <span class="nf">updateNSView</span><span class="p">(</span><span class="n">_</span> <span class="nv">nsView</span><span class="p">:</span> <span class="kt">WKWebView</span><span class="p">,</span> <span class="nv">context</span><span class="p">:</span> <span class="kt">Context</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">nsView</span><span class="o">.</span><span class="nf">load</span><span class="p">(</span><span class="kt">URLRequest</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">url</span><span class="p">))</span>
	<span class="p">}</span>
	
	<span class="kd">func</span> <span class="nf">makeCoordinator</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Coordinator</span> <span class="p">{</span>
		<span class="kt">Coordinator</span><span class="p">(</span><span class="nv">onLoadStart</span><span class="p">:</span> <span class="n">onLoadStart</span><span class="p">,</span> <span class="nv">onLoadFinish</span><span class="p">:</span> <span class="n">onLoadFinish</span><span class="p">)</span>
	<span class="p">}</span>
	
	<span class="kd">class</span> <span class="kt">Coordinator</span><span class="p">:</span> <span class="kt">NSObject</span><span class="p">,</span> <span class="kt">WKNavigationDelegate</span> <span class="p">{</span>
		<span class="k">let</span> <span class="nv">onLoadStart</span><span class="p">:</span> <span class="p">(</span><span class="kt">WKWebView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">()</span>
		<span class="k">let</span> <span class="nv">onLoadFinish</span><span class="p">:</span> <span class="p">(</span><span class="kt">WKWebView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">()</span>
		
		<span class="nf">init</span><span class="p">(</span><span class="nv">onLoadStart</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">WKWebView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(),</span> <span class="nv">onLoadFinish</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">WKWebView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">())</span> <span class="p">{</span>
			<span class="k">self</span><span class="o">.</span><span class="n">onLoadStart</span> <span class="o">=</span> <span class="n">onLoadStart</span>
			<span class="k">self</span><span class="o">.</span><span class="n">onLoadFinish</span> <span class="o">=</span> <span class="n">onLoadFinish</span>
		<span class="p">}</span>
		
		<span class="kd">func</span> <span class="nf">webView</span><span class="p">(</span><span class="n">_</span> <span class="nv">webView</span><span class="p">:</span> <span class="kt">WKWebView</span><span class="p">,</span> <span class="n">didCommit</span> <span class="nv">navigation</span><span class="p">:</span> <span class="kt">WKNavigation</span><span class="o">!</span><span class="p">)</span> <span class="p">{</span>
			<span class="nf">onLoadStart</span><span class="p">(</span><span class="n">webView</span><span class="p">)</span>
		<span class="p">}</span>
		
		<span class="kd">func</span> <span class="nf">webView</span><span class="p">(</span><span class="n">_</span> <span class="nv">webView</span><span class="p">:</span> <span class="kt">WKWebView</span><span class="p">,</span> <span class="n">didFinish</span> <span class="nv">navigation</span><span class="p">:</span> <span class="kt">WKNavigation</span><span class="o">!</span><span class="p">)</span> <span class="p">{</span>
			<span class="nf">onLoadFinish</span><span class="p">(</span><span class="n">webView</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>

</pre></table>
</div>
</div>
<p>This pretty lengthy snippet adds a simple SwiftUI wrapper around <code class="language-plaintext highlighter-rouge">WKWebView</code> (which needs to be imported). It only requires a binding to a url, which will be loaded. In more complex cases, you can pass <code class="language-plaintext highlighter-rouge">onLoadStart</code> and <code class="language-plaintext highlighter-rouge">onLoadFinish</code> handlers which will run when the web view starts and finishes loading and a <code class="language-plaintext highlighter-rouge">WKWebView</code> class instance. Since in Swift classes are passed by reference, you can use this instance in your view to control the web view (go back, forward, etc).
<h3 id="5-cocoa-showing-an-alert">5. (Cocoa) Showing an alert</h3>
<div class="language-swift highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13</pre><td class="code"><pre><span class="kd">func</span> <span class="nf">showAlert</span><span class="p">(</span><span class="nv">message</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">informative</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">buttons</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[],</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">NSApplication</span><span class="o">.</span><span class="kt">ModalResponse</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">()</span> <span class="o">=</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="p">})</span> <span class="p">{</span>
	<span class="kt">DispatchQueue</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">async</span> <span class="p">{</span>
		<span class="k">let</span> <span class="nv">alert</span> <span class="o">=</span> <span class="kt">NSAlert</span><span class="p">()</span>
		
		<span class="n">alert</span><span class="o">.</span><span class="n">messageText</span> <span class="o">=</span> <span class="n">message</span>
		<span class="n">alert</span><span class="o">.</span><span class="n">informativeText</span> <span class="o">=</span> <span class="n">informative</span>
		
		<span class="n">buttons</span><span class="o">.</span><span class="n">forEach</span> <span class="p">{</span> <span class="n">alert</span><span class="o">.</span><span class="nf">addButton</span><span class="p">(</span><span class="nv">withTitle</span><span class="p">:</span> <span class="nv">$0</span><span class="p">)</span> <span class="p">}</span>
		
		<span class="k">let</span> <span class="nv">result</span> <span class="o">=</span> <span class="n">alert</span><span class="o">.</span><span class="nf">runModal</span><span class="p">()</span>
		<span class="nf">completionHandler</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></table>
</div>
</div>
<p>Once again, a wrapper. It wraps <code class="language-plaintext highlighter-rouge">NSAlert</code> in one function so that you don’t need to rewrite this code. It accepts a message and informative text which will be used on the alert. It also optionally accepts a list of button titles which will be added to the alert. It also runs asynchronously on the main thread, so it works even when run in another thread. Here I’d like to add that you can use <code class="language-plaintext highlighter-rouge">NSAlert.accessoryView</code> to create alerts with custom views, for example I did something like this:
<div class="language-swift highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre><td class="code"><pre><span class="kd">func</span> <span class="nf">showChoicePrompt</span><span class="p">(</span><span class="nv">message</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">informativeText</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">buttons</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">],</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">String</span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>
<span class="err"> </span> <span class="k">let</span> <span class="nv">alert</span> <span class="o">=</span> <span class="kt">NSAlert</span><span class="p">()</span>

<span class="err"> </span> <span class="n">alert</span><span class="o">.</span><span class="nf">addButton</span><span class="p">(</span><span class="nv">withTitle</span><span class="p">:</span> <span class="s">"OK"</span><span class="p">)</span>
<span class="err"> </span> <span class="n">alert</span><span class="o">.</span><span class="nf">addButton</span><span class="p">(</span><span class="nv">withTitle</span><span class="p">:</span> <span class="s">"Cancel"</span><span class="p">)</span>
<span class="err"> </span> 
<span class="err"> </span> <span class="n">alert</span><span class="o">.</span><span class="n">messageText</span> <span class="o">=</span> <span class="n">message</span>
<span class="err"> </span> <span class="n">alert</span><span class="o">.</span><span class="n">informativeText</span> <span class="o">=</span> <span class="n">informativeText</span>

<span class="err"> </span> <span class="k">let</span> <span class="nv">popUp</span> <span class="o">=</span> <span class="kt">NSPopUpButton</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">NSRect</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">width</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">24</span><span class="p">))</span>
<span class="err"> </span> <span class="n">popUp</span><span class="o">.</span><span class="nf">addItems</span><span class="p">(</span><span class="nv">withTitles</span><span class="p">:</span> <span class="n">buttons</span><span class="p">)</span>

<span class="err"> </span> <span class="n">alert</span><span class="o">.</span><span class="n">accessoryView</span> <span class="o">=</span> <span class="n">popUp</span>

<span class="err"> </span> <span class="k">let</span> <span class="nv">response</span><span class="p">:</span> <span class="kt">NSApplication</span><span class="o">.</span><span class="kt">ModalResponse</span> <span class="o">=</span> <span class="n">alert</span><span class="o">.</span><span class="nf">runModal</span><span class="p">()</span>

<span class="err"> </span> <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="kt">NSApplication</span><span class="o">.</span><span class="kt">ModalResponse</span><span class="o">.</span><span class="n">alertFirstButtonReturn</span> <span class="p">{</span>
<span class="err"> </span> <span class="err"> </span> <span class="nf">completionHandler</span><span class="p">(</span><span class="n">popUp</span><span class="o">.</span><span class="n">selectedItem</span><span class="p">?</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
<span class="err"> </span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="err"> </span> <span class="err"> </span> <span class="nf">completionHandler</span><span class="p">(</span><span class="kc">nil</span><span class="p">)</span>
<span class="err"> </span> <span class="p">}</span>
<span class="p">}</span>
</pre></table>
</div>
</div>
<p>which creates an alert with a pop up button for selecting a value.
<p>As a sidenote, if you are dealing with many snippets of various types (like these ones), CodeMenu can help you organize, access and use their full potential.
 </div>
</article>
<aside class="related">
<h2>Related posts</h2>
<ul class="related-posts">
   <li>
    <a href="/blog/posts/ten-developer-habits.html">
        <span>Best Dev Habits to Save Time Every Day: Using Boilerplate, Snippets, and Templates</span>
        <small>17/10</small>
    </a>
   <li>
    <a href="/blog/posts/taking-an-image-of-a-part-of-the-screen-in-a-cocoa-app.html">
        <span>Taking an image of a part of the screen in a Cocoa app</span>
        <small>21/09</small>
    </a>
</aside>
           <footer class="site-footer">
 <div class="site-footer__inner">
   <div class="site-footer__primary">
     <h2>Extiri Blog</h2>
     <p>blog about Extiri, programming and cybersecurity
   </div>
   <nav class="site-footer__links" aria-label="Footer navigation">
      <a href="/blog/about/index.html">About</a>
      <a href="/blog/archive/index.html">Archive</a>
      <a href="https://extiri.com">Apps</a>
      <a href="/blog/feed.xml">RSS</a>
   </nav>
   <div class="site-footer__meta">
      <span>Crafted by Wiktor Wójcik</span>
      <span>&copy; 2025 Extiri</span>
   </div>
 </div>
</footer>
       </div>
<script type="text/javascript" src="/blog/assets/js/nav.js"></script>
<script type="text/javascript" src="/blog/assets/js/theme.js"></script>
<script type="text/javascript" src="/blog/assets/js/barefoot.js"></script>
<script type="text/javascript" src="/blog/assets/js/consent.js"></script>
    
